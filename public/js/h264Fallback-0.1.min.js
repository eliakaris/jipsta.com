var h264Fallback={version:"0.1",supportsVideo:function(){return !!document.createElement("video").canPlayType},supportsH264:function(){var a=document.createElement("video");return !!(a.canPlayType&&a.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"').replace(/no/,""))},supportsFlash:function(){return navigator.mimeTypes["application/x-shockwave-flash"]&&navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin},getVideoSrc:function(a){return a.getElementsByClassName(h264Fallback.options.videoLinkClass)[0].getAttribute("href")},createVideo:function(a){var b=document.createElement("video");b.src=h264Fallback.getVideoSrc(a);if(h264Fallback.options.controls){b.controls="controls"}return b},createPlayer:function(c){var d=document.createElement("object");d.width=c.getAttribute("data-width");d.height=c.getAttribute("data-height");d.data=h264Fallback.options.player;d.type="application/x-shockwave-flash";var b=document.createElement("param");b.name="movie";b.value=h264Fallback.options.player;d.appendChild(b);var a=h264Fallback.getVideoSrc(c);var e=document.createElement("param");e.name="flashvars";e.value="autostart=false&file="+a;d.appendChild(e);return d},init:function(a){this.options={controls:a.controls?a.controls:true,videoDivClass:a.videoDivClass?a.videoDivClass:"h264Fallback",videoLinkClass:a.videoLinkClass?a.videoLinkClass:"videoLink",player:a.player||""};var c=document.getElementsByClassName(this.options.videoDivClass);while(c.length>0){var b=c[0];if(this.supportsH264()){b.parentNode.replaceChild(this.createVideo(b),b)}else{if(this.supportsFlash()&&this.supportsVideo()){b.parentNode.replaceChild(this.createPlayer(b),b)}else{return}}}}};